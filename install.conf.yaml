- clean:
    ~/:
      force: true
    ~/.config:
      recursive: true
    $XDG_CONFIG_HOME:
      recursive: true

- create:
  - ~/.config/git/gitconfig_local

- shell:
  - ['XDG_CONFIG_HOME=${XDG_CONFIG_HOME:-~/.config}', 'Setting Variables']
  - ['git submodule update --init --recursive', 'Installing submodules']
  - ['which node && zsh ./packages/npm.sh || true', 'Installing NPM Packages']

- link:
    ~/.dotfiles: ''
    ~/.tmux.conf: tmux/tmux.conf
    ~/.zshrc:
      path: zsh/zshrc
      create: true
    ~/.bashrc:
      path: bash/bashrc
      create: true
    ~/.gitconfig: git/gitconfig
    $XDG_CONFIG_HOME/nvim/init.vim: 
      path: nvim/init.vim
      create: true
    $XDG_CONFIG_HOME/nvim/coc-settings.json: 
      path: nvim/coc-settings.json
      create: true
    $XDG_CONFIG_HOME/nvim/site/autoload/plug.vim:
      path: nvim/vim-plug/plug.vim
      create: true
    $XDG_CONFIG_HOME/taskwarrior/taskrc:
      path: taskwarrior/taskrc
      create: true

- brew:
  - tmux
  - neovim
  - the_silver_searcher
  - node
  - cowsay
  - python3
  - fd
  - ruby
  - yarn
  - jq
  - ripgrep
  - ccls
  - telnet
  - figlet
  - ctags
